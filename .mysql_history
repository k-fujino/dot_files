_HiStOrY_V2_
use\040mysql
exit
show\040databases;
SELECT\040user,\040host\040FROM\040user;
USE\040mysql;
exit
USE\040mysql;
SELECT\040user,\040host\040FROM\040user;
SHOW\040GRANTS\040for\040'hoge'@'%';
SHOW\040GRANTS\040for\040'root'@'%';
SHOW\040GRANTS\040for\040'root'@'localhost';
grant\040all\040on\040*.*\040to\040root@localhost;
create\040database\040cospa_nes;
exit
show\040databases;
exit
use\040cospa_nes;
show\040tables;
exit
select\040*\040from\040item_price_ranges\040where\040id\040=\0401;
items;
desc\040items;
select\040*\040from\040material_images\040where\040id\040=\04031012;
select\040*\040from\040material_part\040where\040id\040=\04015508;
select\040*\040from\040material_parts\040where\040id\040=\04015508;
select\040*\040from\040material_histories\040where\040id\040=\0407756;
select\040*\040from\040material_sets\040where\040id\040=\040973;
exit
show\040databases;
create\040database\040cospa_nes_test
;
exit
show\040databases;
GRANT\040ALL\040ON\040cospa_nes.*\040TO\040'nes'@'%';
exit
select\040*\040from\040material_images\040where\040id\040=\0401;
select\040*\040from\040material_files\040where\040id\040=\0401;
exit
select\040*\040\040from\040material_sets\040where\040id\040in\040(
select\040distinct(material_set_id)\040from\040material_histories\040where\040id\040in\040(
\040select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(
\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(
7,8,9
)));
select\040*\040\040from\040material_sets\040where\040id\040in\040(\040select\040distinct(material_set_id)\040from\040material_histories\040where\040id\040in\040(\040\040select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(\040\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(\0407,8,9\040)));
select\040*\040\040from\040material_sets\040where\040id\040in\040(
select\040distinct(material_set_id)\040from\040material_histories\040where\040id\040in\040(
\040select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(
\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(
7,8,9
))));
select\040*\040\040from\040material_sets\040where\040id\040in\040(\040select\040distinct(material_set_id)\040from\040material_histories\040where\040id\040in\040(\040\040select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(\040\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(\0407,8,9\040))));
select\040*\040material_histories\040where\040id\040in\040(
select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(
\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(
7,8,9
)));
select\040*\040material_histories\040where\040id\040in\040(\040select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(\0407,8,9\040)));
select\040*\040\040from\040material_histories\040where\040id\040in\040(
select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(
\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(
7,8,9
))));
select\040*\040\040from\040material_histories\040where\040id\040in\040(\040select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(\0407,8,9\040))));
select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(
\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(
7,8,9));
select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(\0407,8,9));
select\040*\040\040from\040material_histories\040where\040id\040in\040(
select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(
\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(
7,8,9))
);
select\040*\040\040from\040material_histories\040where\040id\040in\040(\040select\040distinct(material_history_id)\040from\040material_parts\040where\040id\040in\040(\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(\0407,8,9))\040);
select\040*\040from\040material_parts\040where\040id\040in\040(
\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(
7,8,9
));
select\040*\040from\040material_parts\040where\040id\040in\040(\040\040\040select\040distinct(material_part_id)\040from\040material_images\040where\040id\040in\040(\0407,8,9\040));
select\040*\040from\040material_files\040where\040id\040in\040(
\040\040select\040material_file_id\040from\040material_images\040where\040id\040in\040(
7,8,9
));
select\040*\040from\040material_files\040where\040id\040in\040(\040\040\040select\040material_file_id\040from\040material_images\040where\040id\040in\040(\0407,8,9\040));
delete\040from\040material_images\040where\040id\040\040in\040(
7,8,9
exit
select\040*\040from\040material_images\040where\040id\040=\04010;
select\040*\040from\040material_files\040where\040id\040=\04010;
select\040*\040from\040material_files\040where\040id\040in\040(2,10);
exit
select\040*\040from\040material_files\040where\040id\040=\04010;
select\040*\040from\040material_images\040where\040id\040=\04010;
exit
show\040databases;
use\040ces_development
;
show\040tables;
exit
\040show\040variables\040like\040'max_allowed_packet';
exit
\040show\040variables\040like\040'max_allowed_packet';
exit
show\040databases;
use\040ces_development;
show\040tables;
desc\040shipping_instruction_details;
exit
show\040databases;
use\040ces_development;
show\040tables;
desc\040sku_combinations;
desc\040skus
;
select\040*\040from\040skus\040where\040id\040=\0401;
select\040count(*)\040from\040skus\040;
select\040*\040from\040skus\040where\040id\040=\040(select\040min(id)\040from\040skus);
select\040*\040from\040skus\040where\040id\040=\040(select\040max(id)\040from\040skus);
desc\040sku_combinations;
select\040*\040from\040sku_combinations\040where\040sku_id\040=\04094127;
select\040*\040from\040sku_combination_priorities\040where\040id\040=\04077312;
select\040*\040from\040skus\040where\040code\040=\040'S094076';
select\040*\040from\040sku_combinations\040where\040sku_id\040=\04094076;
select\040*\040from\040sku_combination_priorities\040where\040id\040=\04077262;
show\040tables;
create\040table\040attachements;
create\040table\040attachements(\040ids,\040int);
create\040table\040attachements(\040ids,\040);
create\040table\040attachements(\040ids\040);
create\040table\040attachements(\040ids\040int);
desc\040skus;
show\040tables;
create\040table\040attachments(\040ids\040int);
drop\040table\040attachements;
drop\040table\040attachements(id\040int);
create\040table\040attachments(id\040int);
desc\040attachments;
show\040tables;
exit
show\040databases;
select\040count(*)\040from\040ces_development.attachments;
use\040ces_development;
create\040table\040attachments(id\040int);
show\040databases;
use\040ces_development;
show\040tables;
desc\040sales_orders;
desc\040products;
select\040*\040from\040products\040where\040id\040=\040(\040select\040max(id)\040from\040products\040);
desc\040items;
select\040*\040from\040items\040where\040id\040=\04031107;
show\040tables;
desc\040shipping_costs;
select\040count(*)\040from\040shipping_costs;
select\040*\040from\040shipping_costs\040where\040id\040=\040(\040select\040max(id)\040from\040shipping_costs);
desc\040sales_channel_users;
desc\040sales_channels;
select\040count(*)\040from\040sales_channels;
select\040*\040from\040sales_channels;
desc\040shipping_costs;
desc\040products;
select\040*\040from\040products\040where\040code\040=\040'5550';
select\040*\040from\040shipping_costs\040where\040id\040=\0405550;
select\040count(*)\040from\040shipping_costs\040where\040data\040like\040'%false%';
select\040max(id)\040from\040shipping_costs\040where\040data\040like\040'%false%';
select\040*\040from\040shipping_costs\040where\040id\040=\04067527;
desc\040products;
select\040product_id\040from\040shipping_costs\040where\040id\040=\04067527;
select\040*\040from\040products\040where\040id\040=\040119970;
show\040tables;
desc\040deliverable_forwarders;
select\040count(*)\040from\040deliverable_forwarders;
select\040*\040from\040deliverable_forwarders\040where\040id\040=\040(\040select\040max(id)\040from\040deliverable_forwarders\040);
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040'%187%';
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040'187%';
select\040count(*)\040from\040deliverable_forwarders\040where\040outlier\040=\0401;
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040'04314%';
exit
show\040databases;
use\040ces_development;
desc\040deliverable_forwarders;
select\040count(*)\040from\040deliverable_forwarders;
select\040*\040from\040deliverable_forwarders\040where\040id\040=\0401;
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040"18700%"
;
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040"04314%"
;
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040"09701%"
;
show\040tables;
desc\040sales_channels;
select\040count(*)\040from\040sales_channels;
select\040*\040from\040sales_channels;
select\040count(*)\040from\040sales_channel_users;
desc\040sales_channel_users;
select\040*\040from\040sales_channel_users\040where\040id\040=\0401;
select\040*\040from\040sales_channel_users\040where\040id\040=\040100;
select\040*\040from\040sales_channel_users\040where\040id\040=\0401000;
desc\040sales_orders;
select\040*\040from\040sales_orders;
select\040count(*)\040from\040products;
desc\040products;
desc\040sales_orders;
show\040tables;
desc\040delivery_kinds;
desc\040sales_orders;
desc\040delivery_kind_groups
;
desc\040sales_order_details;
desc\040item_delivery_options;
desc\040delivery_options;
select\040count(*)\040from\040delivery_options;
select\040*\040from\040delivery_options;
select\040count(*)\040from\040item_delivery_options;
select\040count(*)\040from\040delivery_kinds;
select\040*\040from\040delivery_kinds;
desc\040item;
desc\040items;
desc\040products;
select\040count(*)\040from\040delivery_kinds;
select\040*\040from\040delivery_kinds;
select\040count(*)\040from\040items\040where\040delivery_kind_id\040=\0405;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0405\040;
select\040*\040from\040items\040where\040delivery_kind_id\040=\0405\040and\040id\040=\04031107\040;
select\040*\040from\040products\040where\040item_id\040=\04031107;
select\040count(*)\040from\040products\040where\040item_id\040=\04031107;
select\040*\040from\040delivery_kinds;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0403\040;
select\040count(*)\040from\040products\040where\040item_id\040=\04027909;
select\040*\040from\040products\040where\040item_id\040=\04027909;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0402\040;
select\040count(*)\040from\040products\040where\040item_id\040=\04031073;
select\040*\040from\040from\040products\040where\040item_id\040=\04031073;
select\040*\040from\040\040products\040where\040item_id\040=\04031073;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0401\040;
select\040*\040from\040\040products\040where\040item_id\040=\04031084;
desc\040deliverable_forwarders;
desc\040partner_shipping_costs;
select\040count(*)\040from\040partner_shipping_costs\040where\040product_id\040=\040119968;
select\040*\040from\040partner_shipping_costs\040where\040product_id\040=\040119968;
select\040count(*)\040from\040partner_shipping_costs\040where\040data\040like\040'%\M-e\M^L\M^W\M-f\M-5\M-7\M-i\M^A\M^S":\040\134'0\134'%';
select\040max(id)\040from\040partner_shipping_costs\040where\040data\040like\040'%\M-e\M^L\M^W\M-f\M-5\M-7\M-i\M^A\M^S":\040\134'0\134'%';
select\040*\040from\040partner_shipping_costs\040where\040id\040=\04033663;
select\040count(*)\040from\040partner_shipping_costs\040;
desc\040deliverable_forwarders;
\040\040\040\040\040\040\040\040SELECT
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_price_kinds`.\040*
\040\040\040\040\040\040\040\040FROM
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_price_kinds`
\040\040\040\040\040\040\040\040WHERE
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_price_kinds`.`code`\040=\040'DELIVERY'\040LIMIT\0401;
SELECT\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_price_kinds`.\040*\040\040\040\040\040\040\040\040\040FROM\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_price_kinds`\040\040\040\040\040\040\040\040\040WHERE\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_price_kinds`.`code`\040=\040'DELIVERY'\040LIMIT\0401;
\040\040\040\040\040\040\040\040SELECT
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.\040*
\040\040\040\040\040\040\040\040FROM
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`
\040\040\040\040\040\040\040\040WHERE
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.`item_id`\040=\04031107
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AND\040`promotion_prices`.`promotion_price_kind_id`\040=\0403
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AND\040(
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.`enabled_at`\040<=\040'2018-01-11\04010:00:28'
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040)
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AND\040`promotion_prices`.`sales_channel_id`\040=\0402
\040\040\040\040\040\040\040\040ORDER\040BY
\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.`enabled_at`\040DESC\040LIMIT\0401;
SELECT\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.\040*\040\040\040\040\040\040\040\040\040FROM\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`\040\040\040\040\040\040\040\040\040WHERE\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.`item_id`\040=\04031107\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AND\040`promotion_prices`.`promotion_price_kind_id`\040=\0403\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AND\040(\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.`enabled_at`\040<=\040'2018-01-11\04010:00:28'\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040)\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AND\040`promotion_prices`.`sales_channel_id`\040=\0402\040\040\040\040\040\040\040\040\040ORDER\040BY\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040`promotion_prices`.`enabled_at`\040DESC\040LIMIT\0401;
desc\040partner_shipping_costs;
select\040data\040from\040partner_shipping_costs\040where\040data\040like\040'%false%';
desc\040partner_shipping_costs;
select\040product_id,data\040from\040partner_shipping_costs\040where\040data\040like\040'%false%';
select\040product_id,data\040from\040partner_shipping_costs\040where\040data\040like\040'%\M-i\M^[\M-"\M-e\M-3\M-6%';
select\040product_id,data\040from\040partner_shipping_costs\040where\040data\040like\040'%\M-i\M^]\M^R\M-f\M-#\M-.%';
select\040product_id,data\040from\040partner_shipping_costs\040where\040data\040like\040'%\M-e\M-2\M-)\M-f\M^I\M^K%';
select\040product_id,data\040from\040partner_shipping_costs\040where\040data\040like\040'%\M-g\M-'\M^K\M-g\M^T\M-0%';
select\040product_id,data\040from\040partner_shipping_costs\040where\040data\040like\040'%\M-e\M^L\M^W\M-f\M-5\M-7\M-i\M^A\M^S":\040\134'F%';
desc\040deliverable_forwarders;
select\040count(*)\040from\040deliverable_forwarder;
select\040count(*)\040from\040deliverable_forwarders;
exit
show\040databases;
use\040ces_development
;
show\040tables;
desc\040products;
select\040*\040from\040products\040where\040code\040=\040'119968';
select\040*\040from\040items\040where\040id\040=\04027542;
desc\040items;
select\040id,delivery_kind_id\040from\040items\040where\040id\040=\04027542;
desc\040delivery_kinds;
select\040count(*)\040from\040delivery_kinds;
select\040*\040from\040delivery_kinds;
desc\040deliverable_forwarders;
select\040count(*)\040from\040deliverable_forwarders\040where\040zip\040=\040'1200037';
select\040*\040from\040deliverable_forwarders\040where\040zip\040=\040'1200037';
select\040count(*)\040from\040deliverable_forwarders\040where\040direct_outlier\040=\0401;
select\040count(*)\040from\040deliverable_forwarders\040where\040direct_outlier\040=\0401\040and\040outlier\040=\0401;
select\040count(*)\040from\040deliverable_forwarders\040where\040direct_outlier\040=\0401\040and\040outlier\040=\0401\040and\040enable\040=\0401;
select\040min(id)\040from\040deliverable_forwarders\040where\040direct_outlier\040=\0401\040and\040outlier\040=\0401\040and\040enable\040=\0401;
select\040*\040from\040deliverable_forwarders\040where\040id\040=\0407668;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0401\040\040;
select\040*\040from\040items\040where\040id\040=\04031084;select\040*\040from\040items\040where\040id\040=\04031084;
select\040*\040from\040items\040where\040id\040=\04031084;
desc\040products;
select\040count(*)\040from\040products\040where\040item_id\040=\04031084;
select\040*\040from\040products\040where\040item_id\040=\04031084;
select\040code\040from\040products\040where\040item_id\040=\04031084;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0402\040\040;
select\040code\040from\040products\040where\040item_id\040=\04031073;
select\040*\040from\040products\040where\040code\040=\040119968;
select\040*\040from\040items\040where\040id\040=\04027542;
desc\040deliverable_forwarders;
desc\040forwarders;
select\040count(*)\040from\040forwards;
select\040count(*)\040from\040forwarders;
select\040*\040from\040forwarders;
desc\040products;
desc\040partner_shipping_costs;
select\040*\040from\040partner_shipping_costs\040where\040product_id\040=\040119968;
select\040*\040from\040products\040where\040id\040=\040119968;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0404\040\040;
select\040*\040from\040delivery_kinds;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0403\040\040;
select\040*\040from\040items\040where\040id\040=\04027909;
desc\040items;
desc\040products;
select\040*\040from\040products\040where\040item_id\040=\04027909;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0403\040\040;
desc\040product
;
desc\040products;
select\040count(*)\040from\040products\040where\040item_id\040=\04027909;
select\040max(id)\040from\040products\040where\040item_id\040=\04027909;
select\040*\040from\040products\040where\040id\040=\040110617;
select\040product_id,data\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%';
desc\040products;
desc\040items;
select\040i\040from\040items\040where\040delivery_kind_id\040=\0402;
select\040count(*)\040from\040products\040where\040
\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0402\040)\040
and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040count(*)\040from\040products\040where\040\040\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0402\040)\040\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
desc\040products;
select\040count(*)\040from\040products\040where\040\040\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0402\040)\040\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040count(*)\040from\040products\040where\040
\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040count(*)\040from\040products\040where\040\040\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040count(*)\040from\040products\040where\040
\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0402\040)\040;
select\040count(*)\040from\040products\040where\040\040\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0402\040);
select\040*\040from\040delivery_kinds;
select\040count(*)\040from\040products\040where\040
\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0403\040)\040
and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040count(*)\040from\040products\040where\040\040\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0403\040)\040\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040count(*)\040from\040products\040where\040\040\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0404\040)\040\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040max(id)\040from\040products\040where\040\040\040\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0404\040)\040\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'\040);
select\040*\040from\040products\040where\040id\040=\040113958;
select\040*\040from\040partner_shipping_costs\040where\040product_id\040=\040113958;
show\040tables;
select\040*\040from\040prefectures;
exit
show\040databases;
use\040ces_development
select\040count(*)\040from\040delivarable_forwordes;
show\040tables;
select\040count(*)\040from\040deliverable_forwarders;
desc\040\040deliverable_forwarders;
select\040*\040from\040deliverable_forwarders\040where\040zip\040=\040'027-0073';
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040'027-00%';
select\040*\040from\040deliverable_forwarders\040where\040zip\040like\040'027%';
select\040*\040from\040deliverable_forwarders\040where\040zip\040=\040'0270073';
create\040database\040ces_test;
desc\040products;
desc\040items;
desc\040forwarders;
desc\040delivery_kinds;
select\040*\040from\040delivery_kinds;
desc\040items;
desc\040products;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0403;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0402;
select\040max(id)\040from\040products\040where\040item_id\040=\04031073;
select\040code\040from\040products\040where\040item_id\040=\04031073;
select\040code\040from\040products\040where\040code\040=\040129980;
select\040code\040from\040products\040where\040code\040=\040129981;
desc\040attachments
;
select\040count(*)\040from\040attachments;
select\040*\040from\040attachments;
;
show\040databases;
use\040ces_development
desc\040sales_channel_users;
select\040count(*)\040from\040sales_channel_users\040where\040code\040=\040'sales';
select\040count(*)\040from\040sales_channel_users\040where\040code\040=\040'SALES';
select\040count(*)\040from\040sales_channel_users\040;
select\040distinct(code)\040from\040sales_channel_users\040;
desc\040sales_channel_users;
select\040distinct(name)\040from\040sales_channel_users\040;
desc\040sales_channel_users;
select\040distinct(name)\040from\040sales_channel_users\040where\040code\040=\04053251;
select\040*\040from\040sales_channel_users\040where\040code\040=\04053251;
select\040*\040from\040items\040where\040id\040=\04031061
;
desc\040items;
select\040id,delivery_kind_id\040from\040items\040where\040id\040=\04031061;
select\040*\040from\040delivery_kinds;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0405;
select\040*\040from\040products\040where\040item_id\040=\04031061;
select\040item_id\040from\040products\040where\040code\040=\040'129968';
select\040*\040from\040products\040where\040item_id\040=\04031061;
desc\040items;
select\040*\040from\040items\040where\040id\040=\04031061;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\040;
select\040max(id)\040from\040items\040where\040delivery_kind_id\040=\0405;
select\040code\040from\040products\040where\040item_id\040=\04031107;
show\040tables;
desc\040deliverable_forwarders;
select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%';
select\040product_id\040from\040partner_shipping_costs\040where\040product_id\040=\040119970;
select\040*\040from\040partner_shipping_costs\040where\040product_id\040=\040119970;
select\040distinct(item_id)\040from\040products\040where\040id\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%');
select\040id\040from\040items\040where\040delivery_kind_id\040=\0405\040and\040id\040in\040(select\040distinct(item_id)\040from\040products\040where\040id\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'));
select\040code\040from\040products\040where\040item_id\040=\04031107;
select\040id\040from\040items\040where\040delivery_kind_id\040=\0405\040and\040id\040in\040(select\040distinct(item_id)\040from\040products\040where\040id\040not\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'));
select\040code\040from\040products\040where\040item_id\040=\04031098;
select\040id\040from\040products\040where\040code\040=\040130044;
select\040id\040from\040products\040where\040id\040=\040119944\040and\040id\040not\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%');
desc\040partner_shipping_costs;
select\040code\040from\040products\040where\040id\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040\040product_id\040not\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'));
select\040code\040from\040products\040where\040id\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040\040product_id\040not\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'))
and\040item_id\040in\040
\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0405\040);
select\040code\040from\040products\040where\040id\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040\040product_id\040not\040in\040(select\040product_id\040from\040partner_shipping_costs\040where\040data\040like\040'%FALSE%'))\040and\040item_id\040in\040\040\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0405\040);
desc\040deliverable_forwarder;
desc\040deliverable_forwarders;
select\040*\040from\040deliverable_forwarders\040where\040id\040=\0401;
desc\040PartnerShippingCost;
desc\040partner_shippin_costs;
desc\040partner_shipping_costs;
select\040*\040from\040partner_shipping_costs\040where\040id\040=\0401;
show\040tables;
desc\040operations
;
select\040count(*)\040from\040operations;
desc\040attachments;
select\040max(id)\040from\040attachments;
select\040*\040from\040attachments\040where\040id\040=\040184;
exit
show\040databases;
use\040ces_development
select\040count(*)\040from\040operations;
select\040max(id)\040from\040operations;
select\040*\040from\040operations\040where\040id\040=\04055728;
select\040*\040from\040operations\040where\040id\040=\04055727;
select\040*\040from\040operations\040where\040id\040=\04055726;
select\040distinct(type)\040from\040operations;\040
select\040count(*)\040from\040operations\040where\040type\040=\040'ItemOperation';
desc\040operations;
select\040max(id)\040from\040operations\040where\040type\040=\040'ItemOperation';
select\040*\040from\040operations\040where\040id\040=\04054543;
desc\040attachments;
select\040attachable_type,attachable_id,attacher_type,attacher_id,content_type,name\040from\040attachments\040where\040id\040=\0401;
select\040attachable_type,attachable_id,attacher_type,attacher_id,content_type,name\040from\040attachments\040where\040attacher_id\040=\04054543;
select\040*\040from\040operations\040where\040id\040=\04054543;
desc\040suppliers;
select\040*\040from\040suppliers\040where\040id\040=\0401;
desc\040packages;
select\040*\040from\040packages\040where\040id\040=\0401;
desc\040packages;
desc\040skus
;
desc\040sku_combinations;
desc\040components;
select\040*\040from\040components\040where\040id\040=\040402;
desc\040delivery_ranks
;
desc\040products;
SELECT\040delivery_ranks.*\040FROM\040delivery_ranks\040WHERE\040delivery_ranks.delivery_rankable_id\040=\0407169\040AND\040delivery_ranks.delivery_rankable_type\040=\040'Component'\040and\040forwarder_id\040=\0403;
SELECT\040delivery_ranks.rank\040FROM\040delivery_ranks\040WHERE\040delivery_ranks.delivery_rankable_id\040=\0407169\040AND\040delivery_ranks.delivery_rankable_type\040=\040'Component'\040and\040forwarder_id\040=\0403;
desc\040components;
desc\040products;
desc\040skus;
desc\040packages;
select\040id,sku_id,name,quantity\040from\040packages\040where\040id\040=\040407;
select\040*\040from\040skus\040where\040id\040=\0407169;
select\040id,sku_id,name,quantity\040from\040packages\040where\040sku_id\040=\0407169;
desc\040purchase_conditions;
desc\040purchase_prices;
desc\040sku_combinations;
select\040*\040from\040sku_combinations\040where\040sku_id\040=\0407169;
desc\040sku_combination_priorities;
select\040*\040from\040sku_combination_priorities\040where\040id\040=\0401167;
select\040*\040from\040sku_combination_priorities\040where\040id\040=\04071700;
select\040*\040from\040sku_combination_priorities\040where\040id\040=\04071701;
desc\040components;
select\040*\040from\040components\040where\040id\040=\0407169;
select\040*\040from\040components\040where\040id\040=\04093360;
select\040*\040from\040components\040where\040id\040=\04093361;
desc\040components;
select\040*\040from\040components\040where\040id\040=\04093361;
desc\040delivery_ranks;
desc\040delivery_kinds;
show\040databases;
use\040ces_development;
desc\040delivery_kinds;
select\040*\040from\040delivery_kinds;
desc\040deliverable_forwarders;
desc\040products;
desc\040items;
select\040*\040from\040items\040where\040delivery_kind_id\040=
select\040count(*)\040from\040items\040where\040delivery_kind_id\040=\0402;
select\040*\040from\040items\040where\040delivery_kind_id\040=\040select\040count(*)\040from\040items\040where\040delivery_kind_id\040=\0402;
select\040count(*)\040from\040products\040where\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0402\040);
select\040count(*)\040from\040products\040where\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0402\040)\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040);
select\040count(*)\040from\040products\040where\040item_id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0403\040)\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040);
select\040*\040from\040products\040where\040id\040=\04054245;
select\040*\040from\040items\040where\040id\040=\0407600;
select\040delivery_kind_id\040from\040items\040where\040id\040=\0407600;
select\040*\040from\040delivery_kinds;
exit
show\040databases;
use\040ces_development;
desc\040deliverable_forwarders;
desc\040partner_shipping_costs;
history|grep\040partner
;
select\040*\040from\040partner_shipping_costs\040where\040id\040=\0401;
mysql\040-V
;
mysql\040-V;
exit
use\040mysql
select\040version();
exit
show\040variables\040like\040'character%';
exit
use\040ces_development;
system\040ig\040partner
se
;
select\040*\040from\040products\040where\040id\040in\040(\040select\040id\040from\040items\040where\040delivery_kind_id\040=\0403\040)\040and\040id\040in\040(\040select\040product_id\040from\040partner_shipping_costs\040);
edit
;
show\040tables;
select\040product_id\040from\040partner_shipping_costs\040where\040product_id\040=\040119970;
select\040*\040from\040partner_shipping_costs\040where\040product_id\040=\040119971;
select\040*\040from\040partner_shipping_costs\040where\040product_id\040=\040119972;
select\040*\040from\040partner_shipping_costs\040where\040product_id\040=\040119970;
desc\040products;
select\040*\040from\040items\040where\040id\040=\040(\040select\040item_id\040from\040products\040where\040id\040=\040119970\040);
desc\040items;
select\040delivery_kind_id\040from\040items\040where\040id\040=\040(\040select\040item_id\040from\040products\040where\040id\040=\040119970\040);
select\040*\040from\040delivery_kinds;
select\040code\040from\040products\040where\040id\040=\040119970;
desc\040staff_emails;
select\040count(*)\040from\040staff_emails;
select\040*\040from\040staff_emails;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-10-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-10-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
exit
show\040databases;
use\040ces_development;
desc\040purchase_orders;
select\040max(id)\040from\040purchase_orders;
select\040*\040from\040purchase_orders\040where\040id\040=\040124489;
desc\040purchase_order_details;
select\040*\040from\040purchase_order_details\040where\040purchase_order_id\040=\040124489;
select\040created_at,reflected_at,status\040from\040purchase_order_details\040where\040purchase_order_id\040=\040124489;
select\040created_at,reflected_at,status,sku_id\040from\040purchase_order_details\040where\040purchase_order_id\040=\040124489;
desc\040stock_transfer_kinds;
select\040count(*)\040from\040stock_transfer_kinds;
select\040*\040from\040stock_transfer_kinds;
desc\040stock_transfers;
select\040count(*)\040from\040stock_transfers;
select\040id,created_at,reflected_at,status,sku_id\040from\040purchase_order_details\040where\040purchase_order_id\040=\040124489;
select\040*\040from\040stock_transfers\040where\040stock_transferable_id\040=\0401000697;
desc\040arrival_kinds;
select\040count(*)\040from\040arrival_kinds;
select\040*\040from\040arrival_kinds;
desc\040purchase_receives;
desc\040purchase_order_receives;
select\040*\040from\040\040purchase_order_receives\040where\040purchase_order_detail_id\040=\0401000697;
select\040*\040from\040\040purchase_order_receives\040where\040purchase_order_detail_id\040=\0401000734;
select\040max(id)\040from\040\040purchase_order_receives\040;
select\040*\040from\040\040purchase_order_receives\040\040where\040id\040=\04085125;
select\040estimate_quantity,receive_quantity,good_quantity,reject_quantity,processed_quantity\040from\040purchase_order_receives\040where\040id\040=\04085125;
desc\040stock_transfers
;
SELECT\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
\040\040\040\040FROM\040purchase_orders\040po
\040\040\040\040\040\040\040\040INNER\040JOIN\040purchase_order_details\040pd\040ON\040pd.purchase_order_id\040=\040po.id
\040\040\040\040\040\040\040\040INNER\040JOIN\040purchase_order_receives\040pr\040ON\040pr.purchase_order_detail_id\040=\040pd.id
\040\040\040\040\040\040\040\040LEFT\040JOIN\040stock_transfers\040st\040ON\040stock_transferable_id\040=\040pd.id
\040\040\040\040\040\040\040\040WHERE\040pd.created_at\040>=\040'2017-10-01'
\040\040\040\040\040\040\040\040\040\040AND\040pd.reflected_at\040<\040now()
\040\040\040\040\040\040\040\040\040\040AND\040pd.status\040=\040'recorded'
\040\040\040\040\040\040\040\040\040\040AND\040po.arrival_kind_id\040<>\0405
\040\040\040\040\040\040\040\040\040\040AND\040pr.good_quantity\040>\0400
\040\040\040\040\040\040\040\040\040\040AND\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
\040\040\040\040\040\040\040\040\040\040AND\040stock_transfer_kind_id\040=\0405
\040\040\040\040\040\040\040\040\040\040AND\040st.id\040is\040null;
SELECT\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040\040\040\040\040FROM\040purchase_orders\040po\040\040\040\040\040\040\040\040\040INNER\040JOIN\040purchase_order_details\040pd\040ON\040pd.purchase_order_id\040=\040po.id\040\040\040\040\040\040\040\040\040INNER\040JOIN\040purchase_order_receives\040pr\040ON\040pr.purchase_order_detail_id\040=\040pd.id\040\040\040\040\040\040\040\040\040LEFT\040JOIN\040stock_transfers\040st\040ON\040stock_transferable_id\040=\040pd.id\040\040\040\040\040\040\040\040\040WHERE\040pd.created_at\040>=\040'2017-10-01'\040\040\040\040\040\040\040\040\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040\040\040\040\040\040\040\040\040AND\040pd.status\040=\040'recorded'\040\040\040\040\040\040\040\040\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040\040\040\040\040\040\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040\040\040\040\040\040\040\040\040AND\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040\040\040\040\040\040\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040\040\040\040\040\040\040\040\040AND\040st.id\040is\040null;
desc\040in_stock_transfer;
show\040tables;
select\040count(*)\040stock_transfers;
select\040*\040from\040stock_transfers;
select\040count(*)\040from\040stock_transfers;
select\040count(*)\040from\040purchase_orders;
desc\040stock_transfers;
SELECT\040COUNT(*)\040FROM\040`purchase_orders`\040LEFT\040OUTER\040JOIN\040stock_transfer_details\040ON\040stock_transfer_details.stock_transferable_id\040=\040purchaseorders.id;
\040SELECT\040COUNT(*)\040FROM\040`purchase_orders`\040LEFT\040OUTER\040JOIN\040stock_transfers\040ON\040stock_transfers.stock_transferable_id\040=\040purchaseorders.id
;
SELECT\040COUNT(*)\040FROM\040`purchase_orders`\040LEFT\040OUTER\040JOIN\040stock_transfers\040ON\040stock_transfers.stock_transferable_id\040=\040purchase_orders.id;
SELECT\040COUNT(*)\040FROM\040`purchase_orders`\040LEFT\040JOIN\040stock_transfers\040ON\040stock_transfers.stock_transferable_id\040=\040purchase_orders.id;
SELECT\040COUNT(*)\040FROM\040purchase_orders\040LEFT\040JOIN\040stock_transfers\040ON\040stock_transfers.stock_transferable_id\040=\040purchase_orders.id\040where\040stock_transfer_kind_id\040=\0405\040;
SELECT\040COUNT(*)\040FROM\040`purchase_orders`\040LEFT\040JOIN\040stock_transfers\040ON\040stock_transfers.stock_transferable_id\040=\040purchase_orders.id;
exit
show\040databases;
use\040ces_development;
\040SELECT\040COUNT(*)\040FROM\040`purchase_orders`\040INNER\040JOIN\040`purchase_order_details`\040ON\040`purchase_order_details`.`purchase_order_id`\040=\040`purchase_orders`.`id`\040INNER\040JOIN\040`purchase_order_details`\040`purchase_order_details_purchase_orders_join`\040ON\040`purchase_order_details_purchase_orders_join`.`purchase_order_id`\040=\040`purchase_orders`.`id`\040INNER\040JOIN\040`purchase_order_receives`\040ON\040`purchase_order_receives`.`purchase_order_detail_id`\040=\040`purchase_order_details_purchase_orders_join`.`id`\040LEFT\040JOIN\040stock_transfers\040ON\040stock_transfers.stock_transferable_id\040=\040purchase_orders.id;
show\040tables;
desc\040purchase_order_details;
desc\040purchase_orders;
\040PurchaseOrder.joins(:purchase_order_details).joins('INNER\040JOIN\040purchase_order_receives\040ON\040purchase_order_receives.purchase_order_detail_id\040=\040purchase_order_details.id').joins('LEFT\040JOIN\040stock_transfers\040ON\040stock_transfers.stock_transferable_id\040=\040purchase_orders.id').where("purchase_order_details.created_at\040>=\040?",\040(Time.now\040-\0403.months).to_s(:db)).where("purchase_order_details.reflected_at\040<\040now()").where("purchase_order_details.status\040=\040?",\040'recorded').where("purchase_orders.arrival_kind_id\040<>\0406").where("purchase_order_receives.good_quantity\040>\0400").where("purchase_order_receives.good_quantity\040>\0400").where("stock_transfers.stock_transfer_kind_id\040=\040?",\0405).where("stock_transfers.stock_transferable_type\040=\040?\040",\040'PurchaseOrderDetail').where(\040"stock_transfers.id\040=\040?",\040nil).count
;
SELECT\040COUNT(*)\040FROM\040`purchase_orders`\040INNER\040JOIN\040`purchase_order_details`\040ON\040`purchase_order_details`.`purchase_order_id`\040=\040`purchase_orders`.`id`\040INNER\040JOIN\040purchase_order_receives\040ON\040purchase_order_receives.purchase_order_detail_id\040=\040purchase_order_details.id;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2015-10-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2015-10-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-10-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-10-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-1-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-1-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040count(*)
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-29'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040count(*)\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-29'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040count(*)\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-28'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-029'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-029'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
show\040tables;
desc\040purchase_order_details;
show\040tables;
desc\040stock_transfers;
desc\040sku_stocks;
desc\040stock_transfers;
select\040max(id)\040from\040stock_transfers\040;
select\040*\040from\040stock_transfers\040where\040id\040=\0402201814;
select\040*\040from\040stock_transfer_kinds;
desc\040sku_stocks;
select\040*\040from\040sku_stocks\040where\040id\040=\040347321;
desc\040stock_kinds;
select\040count(*)\040from\040stck_kinds;
select\040count(*)\040from\040stock_kinds;
select\040*\040from\040stock_kinds;
desc\040suppliers
;
select\040count(*)\040from\040suppliers;
select\040count(*)\040from\040sku_stocks\040where\040sku_id\040=\04090659;
select\040*\040from\040sku_stocks\040where\040sku_id\040=\04090659;
select\040id\040from\040stock_transfers\040where\040to_sku_id\040=\04090659;
select\040id\040from\040stock_transfers\040where\040to_sku_stock_id\040=\04090659;
select\040id\040from\040stock_transfers\040where\040from_sku_stock_id\040=\04090659;
desc\040sku_transferables;
desc\040stock_transfers;
select\040count(*)\040from\040stock_transfers;
select\040distinct(stock_transferable_type)\040from\040stock_transfers;
select\040*\040from\040stock_transfers\040where\040id\040=\0402644753;
select\040*\040from\040stock_transfers\040where\040to_sku_stock_id\040=\040357573;
select\040*\040from\040stock_transfers\040where\040from_sku_stock_id\040=\040357573;
select\040*\040from\040stock_transfers\040where\040from_sku_stock_id\040=\040347321;
select\040*\040from\040stock_transfers\040where\040from_sku_stock_id\040=\040352540;
select\040*\040from\040sku_stocks\040where\040id\040=\040352540;
desc\040stock_transfers;
show\040tables;
desc\040skus;
select\040*\040from\040skus\040where\040id\040=\04090659;
desc\040sku_stocks;
desc\040suppliers;
desc\040skus;
desc\040stock_transfer_details
;
desc\040purchase_orders;
desc\040ararival_kinds
;
desc\040arrival_kinds;
select\040*\040from\040arrival_kinds;
desc\040purchase_orders
;
show\040tables;
desc\040purchase_order_details;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-10-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-10-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-1-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-02-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
exit
show\040databases;
use\040ces_development
desc\040purchase_orders;
select\040max(id)\040from\040purchase_orders;
select\040*\040from\040purchase_orders\040where\040id\040=\040124489;
show\040tables;
desc\040arrival_kinds;
select\040*\040from\040arrival_kinds;
select\040*\040from\040order_kinds;
desc\040purchase_order_details;
select\040*\040from\040purchase_order_details\040where\040purchase_order_details_id\040=\040124489;
select\040*\040from\040purchase_order_details\040where\040purchase_order_detail_id\040=\040124489;
select\040*\040from\040purchase_order_details\040where\040purchase_order_id\040=\040124489;
desc\040purchase_order_receives;
:q
;
select\040*\040from\040purchase_order_receives\040where\040purchase_order_detail_id\040=\0401000697;
select\040max(id)\040from\040purchase_order_receives;
select\040*\040from\040purchase_order_receives\040where\040id\040=\04085125;
select\040*\040from\040purchase_order_details\040where\040id\040=\04085125;
select\040*\040from\040purchase_order_details\040where\040id\040=\0401000174;
select\040*\040from\040purchase_orders\040where\040id\040=\040124438;
selec\040distinct(status)\040from\040purchase_order_details;
select\040distinct(status)\040from\040purchase_order_details;
select\040max(id)\040from\040purchase_order_details\040where\040status\040=\040'schedules';
select\040max(id)\040from\040purchase_order_details\040where\040status\040=\040'scheduled';
select\040min(id)\040from\040purchase_order_details\040where\040status\040=\040'scheduled';
select\040*\040from\040purchase_order_details\040where\040id\040=\0401000363;
select\040*\040from\040purchase_order_receives\040where\040purchase_order_details_id\040=\0401000363;
select\040*\040from\040purchase_order_receives\040where\040purchase_order_detail_id\040=\0401000363;
select\040*\040from\040purchase_order_receives\040where\040purchase_order_detail_id\040=\040885749;
select\040count(*)\040from\040stock_transfers\040where\040id\040is\040null;
select\040count(*)\040
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040count(*)\040\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040count(*)\040from\040stock_transfers\040where\040id\040is\040null;
select\040count(*)\040\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040;
select\040\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,\040st.id
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-31'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,\040st.id\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-31'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
desc\040purchase_order_details;
select\040count(*)\040from\040purchase_order_details\040where\040reflected\040=\0401;
select\040count(*)\040from\040purchase_order_details\040where\040reflected\040=\0400;
select\040count(*)\040from\040purchase_order_details;
select\040count(*)\040from\040purchase_order_details\040where\040reflected\040=\0402;
desc\040stock_transfers;
select\040count(*)
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040pr.reflected\040<>\0401
and\040st.id\040is\040null;
select\040count(*)\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040pr.reflected\040<>\0401\040and\040st.id\040is\040null;
select\040count(*)
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040pd.reflected\040<>\0401
and\040st.id\040is\040null;
select\040count(*)\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040pd.reflected\040<>\0401\040and\040st.id\040is\040null;
select\040count(*)
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040count(*)\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040*
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040pd.reflected\040<>\0401
and\040st.id\040is\040null;
select\040*\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040pd.reflected\040<>\0401\040and\040st.id\040is\040null;
select\040\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040pd.reflected\040<>\0401
and\040st.id\040is\040null;
select\040\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040pd.reflected\040<>\0401\040and\040st.id\040is\040null;
select\040\040count(*)
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
and\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401\040)
and\040to_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0405\040)
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040\040count(*)\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040and\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401\040)\040and\040to_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0405\040)\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040\040count(*)
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-01-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040\040count(*)\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-01-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
desc\040stock_transfers;
desc\040sku_stocks;
select\040*\040from\040stock_kinds;
\040\040where\040to_sku_stock_id\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0403\040)\040
\040\040\040\040and\040from_sku_stock_id\040not\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401\040)\040;
where\040to_sku_stock_id\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401\040);
select\040count(*)\040from\040stock_transfers\040
\040\040where\040to_sku_stock_id\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0403\040)\040
\040\040\040\040and\040from_sku_stock_id\040not\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401\040)\040;
select\040count(*)\040from\040stock_transfers\040\040\040\040where\040to_sku_stock_id\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401\040);
select\040count(*)\040from\040stock_transfers\040;
select\040count(*)\040from\040stock_transfers\040\040\040\040where\040to_sku_stock_id\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0403\040)\040\040\040;
select\040\040from\040stock_transfers\040\040\040\040where\040to_sku_stock_id\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401\040);
select\040count(*)\040from\040stock_transfers\040
\040\040where\040to_sku_stock_id\040A\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040
\040\040\040\040and\040from_sku_stock_id\040not\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040)\040;
select\040count(*)\040from\040stock_transfers\040\040\040\040where\040to_sku_stock_id\040A\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040);
select\040count(*)\040from\040stock_transfers\040A
\040\040where\040to_sku_stock_id\040\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040
\040\040\040\040and\040from_sku_stock_id\040not\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040)\040;
select\040count(*)\040from\040stock_transfers\040A\040\040\040where\040to_sku_stock_id\040\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040);
select\040A.from_sku_stock_id\040from\040stock_transfers\040A
\040\040where\040to_sku_stock_id\040\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040
\040\040\040\040and\040from_sku_stock_id\040not\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040)\040;
select\040A.from_sku_stock_id\040from\040stock_transfers\040A\040\040\040where\040to_sku_stock_id\040\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040);
select\040E.stock_kind_id\040from\040sku_stocks\040E\040where\040E.id\040in\040(
select\040A.from_sku_stock_id\040from\040stock_transfers\040A
\040\040where\040to_sku_stock_id\040\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040
\040\040\040\040and\040from_sku_stock_id\040not\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040)
);
select\040E.stock_kind_id\040from\040sku_stocks\040E\040where\040E.id\040in\040(\040select\040A.from_sku_stock_id\040from\040stock_transfers\040A\040\040\040where\040to_sku_stock_id\040\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040)\040);
select\040distinct(E.stock_kind_id)\040from\040sku_stocks\040E\040where\040E.id\040in\040(
select\040A.from_sku_stock_id\040from\040stock_transfers\040A
\040\040where\040to_sku_stock_id\040\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040
\040\040\040\040and\040from_sku_stock_id\040not\040in\040(
\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040)
);
select\040distinct(E.stock_kind_id)\040from\040sku_stocks\040E\040where\040E.id\040in\040(\040select\040A.from_sku_stock_id\040from\040stock_transfers\040A\040\040\040where\040to_sku_stock_id\040\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040C.id\040from\040sku_stocks\040C\040where\040C.stock_kind_id\040=\0403\040)\040\040\040\040\040\040and\040from_sku_stock_id\040not\040in\040(\040\040\040\040\040\040\040\040\040\040\040\040\040select\040B.id\040from\040sku_stocks\040B\040where\040B.stock_kind_id\040=\0401\040)\040);
desc\040stock_transfers;
show\040tables;
exit
show\040databases;
use\040ces_development;
SELECT\040count(*)\040
FROM\040purchase_orders\040po
INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
\040\040AND\040stock_transferable_id\040=\040pd.id
\040\040AND\040stock_transfer_kind_id\040=\0405
\040\040AND\040to_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040in\040(\0403,\0407\040))\040\040
WHERE\040pd.created_at\040>=\040'2017-01-01'
\040\040AND\040pd.reflected_at\040<\040now()
\040\040AND\040pd.status\040=\040'recorded'
\040\040AND\040po.arrival_kind_id\040<>\0405
\040\040AND\040pr.good_quantity\040>\0400
\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040to_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040in\040(\0403,\0407\040))\040\040\040WHERE\040pd.created_at\040>=\040'2017-01-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040pd.status\040=\040'recorded'\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040
FROM\040purchase_orders\040po
INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
\040\040AND\040stock_transferable_id\040=\040pd.id
\040\040AND\040stock_transfer_kind_id\040=\0405
WHERE\040pd.created_at\040>=\040'2017-01-01'
\040\040AND\040pd.reflected_at\040<\040now()
\040\040AND\040pd.status\040=\040'recorded'
\040\040AND\040po.arrival_kind_id\040<>\0405
\040\040AND\040pr.good_quantity\040>\0400
\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040WHERE\040pd.created_at\040>=\040'2017-01-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040pd.status\040=\040'recorded'\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040
FROM\040purchase_orders\040po
INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
\040\040AND\040stock_transferable_id\040=\040pd.id
\040\040AND\040stock_transfer_kind_id\040=\0405
\040\040AND\040to_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040in\040(\0403,\0407\040))\040\040
WHERE\040pd.created_at\040>=\040'2017-02-01'
\040\040AND\040pd.reflected_at\040<\040now()
\040\040AND\040pd.status\040=\040'recorded'
\040\040AND\040po.arrival_kind_id\040<>\0405
\040\040AND\040pr.good_quantity\040>\0400
\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040to_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040in\040(\0403,\0407\040))\040\040\040WHERE\040pd.created_at\040>=\040'2017-02-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040pd.status\040=\040'recorded'\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040
FROM\040purchase_orders\040po
INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
\040\040AND\040stock_transferable_id\040=\040pd.id
\040\040AND\040stock_transfer_kind_id\040=\0405
WHERE\040pd.created_at\040>=\040'2017-02-01'
\040\040AND\040pd.reflected_at\040<\040now()
\040\040AND\040pd.status\040=\040'recorded'
\040\040AND\040po.arrival_kind_id\040<>\0405
\040\040AND\040pr.good_quantity\040>\0400
\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040WHERE\040pd.created_at\040>=\040'2017-02-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040pd.status\040=\040'recorded'\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040
FROM\040purchase_orders\040po
INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
\040\040AND\040stock_transferable_id\040=\040pd.id
\040\040AND\040stock_transfer_kind_id\040=\0405
\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040
WHERE\040pd.created_at\040>=\040'2017-02-01'
\040\040AND\040pd.reflected_at\040<\040now()
\040\040AND\040po.arrival_kind_id\040<>\0405
\040\040AND\040pr.good_quantity\040>\0400
\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040\040WHERE\040pd.created_at\040>=\040'2017-02-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040\040WHERE\040pd.created_at\040>=\040'2017-01-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
select\040*\040from\040stock_kinds;
exit
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040\040WHERE\040pd.created_at\040>=\040'2017-01-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
show\040databases;
use\040ces_development;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040\040WHERE\040pd.created_at\040>=\040'2017-01-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040\040WHERE\040pd.created_at\040>=\040'2017-02-19'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
use\040ces_test;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040\040WHERE\040pd.created_at\040>=\040'2017-02-19'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
SELECT\040count(*)\040\040FROM\040purchase_orders\040po\040INNER\040JOIN\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040INNER\040JOIN\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040LEFT\040JOIN\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040\040\040AND\040stock_transferable_id\040=\040pd.id\040\040\040AND\040stock_transfer_kind_id\040=\0405\040\040\040AND\040from_sku_stock_id\040in\040(\040select\040id\040from\040sku_stocks\040where\040stock_kind_id\040=\0401)\040\040\040WHERE\040pd.created_at\040>=\040'2017-01-01'\040\040\040AND\040pd.reflected_at\040<\040now()\040\040\040AND\040po.arrival_kind_id\040<>\0405\040\040\040AND\040pr.good_quantity\040>\0400\040\040\040AND\040st.id\040is\040null;
exit
show\040databases;
use\040ces_test;
show\040tables;
desc\040purchase_orders;
desc\040purchase_order_receives;
desc\040purchase_order_details;
desc\040prepurchase_order_details;
desc\040stock_transfers;
desc\040purchase_order_receives;
desc\040stock_transfers;
desc\040purchase_order_details;
desc\040purchase_orders;
select\040max(id)\040from\040purchase_orders;
select\040count(*)\040from\040purchase_orders;
use\040ces_development;
select\040max(id)\040from\040purchase_orders;
select\040*\040from\040purchase_orders\040where\040id\040=\040124489;
desc\040import_plan_kinds;
select\040count(*)\040from\040import_plan_kinds;
select\040*\040from\040import_plan_kinds;
desc\040purchase_orders;
desc\040purchase_order_details;
desc\040purchase_order_receives;
show\040databases;
use\040ces_test
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-10-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-10-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040count(*)\040from\040purchase_orders;
exit
show\040databases;
use\040ces_development;
desc\040reject_stocks;
select\040count(*)\040from\040reject_stocks;
select\040max(id)\040from\040reject_stocks;
select\040*\040from\040reject_stocks\040where\040id\040=\040494672;
show\040tables;
exit
show\040databases;
use\040ces_development;
show\040tables;
use\040ces_development;
desc\040import_plans;
select\040count(*)\040from\040import_plans;
select\040max(id)\040from\040import_plans;
select\040*\040from\040import_plans\040where\040id\040=\0401713;
select\040code\040from\040import_plans\040where\040id\040=\0401713;
select\040count(*)\040from\040import_plans\040where\040import_plan_kind_id\040=\0403;
select\040count(*)\040from\040import_plans\040where\040import_plan_kind_id\040=\0401;
show\040tables;
desc\040suppliers
;
select\040distinct(country_id)\040from\040suppliers;
select\040max(id)\040from\040suppliers\040where\040country_id\040=\0406;
select\040*\040from\040suppliers\040where\040id\040=\040340;
ls
;
desc\040import_plan_details;
select\040count(*)\040from\040import_plan_details;
select\040distinct(status)\040from\040import_plan_details;
desc\040purchase_order_details;
desc\040prepurchase_order_details;
desc\040prepurchase_orders;
desc\040purchase_orders;
desc\040purchase_order_details;
ls
;
select\040max(id)\040from\040purchase_order_details;
select\040*\040from\040purchase_order_details\040where\040id\040=\0401000736;
select\040max(id)\040from\040purchase_order_details\040where\040prepurchase_order_details_id\040is\040not\040null;
select\040max(id)\040from\040purchase_order_details\040where\040prepurchase_order_detail_id\040is\040not\040null;
select\040*\040from\040purchase_order_details\040where\040id\040=\0401000363;
select\040*\040from\040prepurchase_order_details\040where\040id\040=\040885749;
select\040*\040from\040import_plan_details\040where\040id\040=\040885749;
select\040max(id)\040from\040import_plan_details;
select\040*\040from\040import_plan_details;
select\040max(id)\040from\040import_plan_details;
select\040*\040from\040import_plan_details\040where\040id\040=\04024144;
select\040*\040purchase_order_details\040where\040prepurchase_order_details_id\040=\040885749;
desc\040purchase_order_details;
select\040*\040purchase_order_details\040where\040prepurchase_order_detail_id\040=\040885749;
select\040*\040from\040purchase_order_details\040where\040prepurchase_order_detail_id\040=\040885749;
select\040*\040from\040purchase_orders\040where\040id\040=\040124454;
select\040*\040from\040skus\040where\040id\040=\04092785;
ls
exit
;
ls\040exit;
exit
use\040ces_development;
desc\040purchase_order_details;
desc\040purchase_orders;
desc\040purchase_order_receives;
desc\040expense_prorated_results;
select\040count(*)\040from\040expense_prorated_results;
select\040max(id)\040from\040expense_prorated_results;
select\040*\040from\040expense_prorated_results\040where\040id\040=\04066329;
select\040*\040from\040skus\040where\040id\040=\04093954;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,str.id\040as\040str_id
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-02-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,str.id\040as\040str_id\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-02-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,str.id\040as\040str_id
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
inner\040join\040stock_transfers\040stf\040on\040stf.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0401
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-02-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,str.id\040as\040str_id\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040inner\040join\040stock_transfers\040stf\040on\040stf.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0401\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-02-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,stf.id\040as\040stf_id
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
inner\040join\040stock_transfers\040stf\040on\040stf.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0401
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-02-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,stf.id\040as\040stf_id\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040inner\040join\040stock_transfers\040stf\040on\040stf.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0401\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-02-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,stf.id\040as\040stf_id
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
inner\040join\040stock_transfers\040stf\040on\040stf.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stf.stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0401
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-02-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,stf.id\040as\040stf_id\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040inner\040join\040stock_transfers\040stf\040on\040stf.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stf.stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0401\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-02-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
desc\040purchase_order_receives;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at
from\040purchase_orders\040po
inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id
inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id
left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'
and\040stock_transferable_id\040=\040pd.id
and\040stock_transfer_kind_id\040=\0405
where\040pd.created_at\040>=\040'2017-10-01'
and\040pd.reflected_at\040<\040now()
and\040pd.status\040=\040'recorded'
and\040po.arrival_kind_id\040<>\0405
and\040pr.good_quantity\040>\0400
and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-10-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-3-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
select\040po.code,\040po.id,\040pd.sku_id,\040pd.quantity,pd.created_at,\040pd.reflected_at,pd.id,\040pr.id\040from\040purchase_orders\040po\040inner\040join\040purchase_order_details\040pd\040on\040pd.purchase_order_id\040=\040po.id\040inner\040join\040purchase_order_receives\040pr\040on\040pr.purchase_order_detail_id\040=\040pd.id\040left\040join\040stock_transfers\040st\040on\040st.stock_transferable_type\040=\040'PurchaseOrderDetail'\040and\040stock_transferable_id\040=\040pd.id\040and\040stock_transfer_kind_id\040=\0405\040where\040pd.created_at\040>=\040'2017-3-01'\040and\040pd.reflected_at\040<\040now()\040and\040pd.status\040=\040'recorded'\040and\040po.arrival_kind_id\040<>\0405\040and\040pr.good_quantity\040>\0400\040and\040st.id\040is\040null;
desc\040factory_suppliers
;
desc\040supplier;
desc\040suppliers;
desc\040purchase_order_details;
desc\040purchase_order_receives;
desc\040purchase_orders;
exit
